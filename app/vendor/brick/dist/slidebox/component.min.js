!function(){function t(t){var e=xtag.query(t,"x-slides > x-slide[selected]")[0]||0;return[e?xtag.query(t,"x-slides > x-slide").indexOf(e):e,t.firstElementChild.children.length-1]}function e(t,e){var n=xtag.toArray(t.firstElementChild.children);n.forEach(function(t){t.removeAttribute("selected")}),n[e||0].setAttribute("selected",null),t.firstElementChild.style[r]="translate"+(t.getAttribute("orientation")||"x")+"("+(e||0)*(-100/n.length)+"%)"}function n(t){var n=this.firstElementChild;if(n&&n.children.length&&"x-slides"==n.tagName.toLowerCase()){var i=xtag.toArray(n.children),o=100/(i.length||1),a=this.getAttribute("orientation")||"x",s="x"==a?["width","height"]:["height","width"];if(n.style[s[1]]="100%",n.style[s[0]]=100*i.length+"%",n.style[r]="translate"+a+"(0%)",i.forEach(function(t){t.style[s[0]]=o+"%",t.style[s[1]]="100%"}),t){var u=n.querySelector("[selected]");u&&e(this,i.indexOf(u)||0)}}}var r=xtag.prefix.js+"Transform";xtag.register("x-slidebox",{lifecycle:{created:function(){n()}},events:{transitionend:function(t){t.target==this.firstElementChild&&xtag.fireEvent(this,"slideend")},"show:delegate(x-slide)":function(t){var e=t.target;if(console.log(e.parentNode.nodeName),"x-slides"===e.parentNode.nodeName.toLowerCase()&&"x-slidebox"===e.parentNode.parentNode.nodeName.toLowerCase()){var n=e.parentNode,r=n.parentNode,i=xtag.query(n,"x-slide");r.slideTo(i.indexOf(e))}}},accessors:{orientation:{get:function(){return this.getAttribute("orientation")},set:function(t){this.setAttribute("orientation",t.toLowerCase()),n.call(this,!0)}}},methods:{slideTo:function(t){e(this,t)},slideNext:function(){var n=t(this);n[0]++,e(this,n[0]>n[1]?0:n[0])},slidePrevious:function(){var n=t(this);n[0]--,e(this,n[0]<0?n[1]:n[0])}}}),xtag.register("x-slide",{lifecycle:{inserted:function(){var t=this.parentNode.parentNode;"x-slidebox"==t.tagName.toLowerCase()&&n.call(t,!0)},created:function(){if(this.parentNode){var t=this.parentNode.parentNode;"x-slidebox"==t.tagName.toLowerCase()&&n.call(t,!0)}}}})}();