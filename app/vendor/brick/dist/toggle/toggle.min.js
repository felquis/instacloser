!function(){function t(t){var e=t.xtag.inputEl.form;e?t.removeAttribute("x-toggle-no-form"):t.setAttribute("x-toggle-no-form",""),t.xtag.scope=t.parentNode?e||document:null}function e(t){var e={},n=t==document?"[x-toggle-no-form]":"";xtag.query(t,"x-toggle[name]"+n).forEach(function(r){var i=r.name;if(i&&!e[i]){var a=xtag.query(t,'x-toggle[name="'+i+'"]'+n),o=a.length>1?"radio":"checkbox";a.forEach(function(t){t.xtag&&t.xtag.inputEl&&(t.type=o)}),e[i]=!0}})}var n=!1;xtag.addEvents(document,{DOMComponentsLoaded:function(){e(document),xtag.toArray(document.forms).forEach(e)},WebComponentsReady:function(){e(document),xtag.toArray(document.forms).forEach(e)},keydown:function(t){n=t.shiftKey},keyup:function(t){n=t.shiftKey},"focus:delegate(x-toggle)":function(){this.setAttribute("focus","")},"blur:delegate(x-toggle)":function(){this.removeAttribute("focus")},"tap:delegate(x-toggle)":function(){if(n&&this.group){var t=this.groupToggles,e=this.xtag.scope.querySelector('x-toggle[group="'+this.group+'"][active]');if(e&&this!=e){var r=this,i=e.checked,a=t.indexOf(this),o=t.indexOf(e),s=Math.min(a,o),u=Math.max(a,o);t.slice(s,u).forEach(function(t){t!=r&&(t.checked=i)})}}},"change:delegate(x-toggle)":function(){var t=this.xtag.scope.querySelector('x-toggle[group="'+this.group+'"][active]');this.checked=n&&t&&this!=t?t.checked:this.xtag.inputEl.checked,this.group&&(this.groupToggles.forEach(function(t){t.active=!1}),this.active=!0)}}),xtag.register("x-toggle",{lifecycle:{created:function(){this.innerHTML='<label class="x-toggle-input-wrap"><input type="checkbox"></input></label><div class="x-toggle-check"></div><div class="x-toggle-content"></div>',this.xtag.inputWrapEl=this.querySelector(".x-toggle-input-wrap"),this.xtag.inputEl=this.xtag.inputWrapEl.querySelector("input"),this.xtag.contentWrapEl=this.querySelector(".x-toggle-content-wrap"),this.xtag.checkEl=this.querySelector(".x-toggle-check"),this.xtag.contentEl=this.querySelector(".x-toggle-content"),this.type="checkbox",t(this);var e=this.getAttribute("name");e&&(this.xtag.inputEl.name=this.getAttribute("name")),this.hasAttribute("checked")&&(this.checked=!0)},inserted:function(){t(this),this.parentNode&&"x-togglegroup"===this.parentNode.nodeName.toLowerCase()&&(this.parentNode.hasAttribute("name")&&(this.name=this.parentNode.getAttribute("name")),this.parentNode.hasAttribute("group")&&(this.group=this.parentNode.getAttribute("group")),this.setAttribute("no-box",!0)),this.name&&e(this.xtag.scope)},removed:function(){e(this.xtag.scope),t(this)}},accessors:{noBox:{attribute:{name:"no-box","boolean":!0},set:function(){}},type:{attribute:{},set:function(t){this.xtag.inputEl.type=t}},label:{attribute:{},get:function(){return this.xtag.contentEl.innerHTML},set:function(t){this.xtag.contentEl.innerHTML=t}},active:{attribute:{"boolean":!0}},group:{attribute:{}},groupToggles:{get:function(){return xtag.query(this.xtag.scope,'x-toggle[group="'+this.group+'"]')}},name:{attribute:{skip:!0},get:function(){return this.getAttribute("name")},set:function(t){null===t?(this.removeAttribute("name"),this.type="checkbox"):this.setAttribute("name",t),this.xtag.inputEl.name=t,e(this.xtag.scope)}},checked:{get:function(){return this.xtag.inputEl.checked},set:function(t){var e=this.name,n="true"===t||t===!0;if(e){var r=this.xtag.scope==document?"[x-toggle-no-form]":"",i='x-toggle[checked][name="'+e+'"]'+r,a=this.xtag.scope.querySelector(i);a&&a.removeAttribute("checked")}this.xtag.inputEl.checked=n,n?this.setAttribute("checked",""):this.removeAttribute("checked")}},value:{attribute:{},get:function(){return this.xtag.inputEl.value},set:function(t){this.xtag.inputEl.value=t}}}})}();