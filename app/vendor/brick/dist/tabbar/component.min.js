!function(){function t(e){if(e.getBoundingClientRect){var n=document.documentElement.scrollLeft||document.body.scrollLeft||0;return e.getBoundingClientRect().left+n}return e.offsetParent?t(e.offsetParent)+e.offsetLeft:e.offsetLeft}function e(t){if(t.getBoundingClientRect){var n=document.documentElement.scrollTop||document.body.scrollTop||0;return t.getBoundingClientRect().top+n}return t.offsetParent?e(t.offsetParent)+t.offsetTop:t.offsetTop}function n(n){var r={top:e(n),left:t(n),width:n.offsetWidth,height:n.offsetHeight};return r.right=r.left+r.width,r.bottom=r.top+r.height,r}function r(t,e,n){return n.left<=t&&t<=n.right&&n.top<=e&&e<=n.bottom}function i(t){if("x-tabbar"===t.parentNode.nodeName.toLowerCase())for(var e=t.targetEvent,n=t.targetElems,r=0;r<n.length;r++){var i=n[r];xtag.fireEvent(i,e)}}xtag.register("x-tabbar",{lifecycle:{created:function(){this.xtag.overallEventToFire="show"}},events:{"tap:delegate(x-tabbar-tab)":function(){var t=xtag.query(this.parentNode,"x-tabbar-tab[selected]");t.length&&t.forEach(function(t){t.removeAttribute("selected")}),this.setAttribute("selected",!0)}},accessors:{tabs:{get:function(){return xtag.queryChildren(this,"x-tabbar-tab")}},targetEvent:{attribute:{name:"target-event"},get:function(){return this.xtag.overallEventToFire},set:function(t){this.xtag.overallEventToFire=t}}},methods:{}}),xtag.register("x-tabbar-tab",{lifecycle:{created:function(){this.xtag.targetSelector=null,this.xtag.overrideTargetElems=null,this.xtag.targetEvent=null}},events:{tap:function(t){var e=t.currentTarget;if(t.changedTouches){if(!t.changedTouches.length)return;var a=t.changedTouches[0],o=n(e);r(a.pageX,a.pageY,o)&&i(e)}else i(e)}},accessors:{targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag.targetSelector},set:function(t){this.xtag.targetSelector=t,t&&(this.xtag.overrideTargetElems=null)}},targetElems:{get:function(){return this.targetSelector?xtag.query(document,this.targetSelector):null!==this.xtag.overrideTargetElems?this.xtag.overrideTargetElems:[]},set:function(t){this.removeAttribute("target-selector"),this.xtag.overrideTargetElems=t}},targetEvent:{attribute:{name:"target-event"},get:function(){if(this.xtag.targetEvent)return this.xtag.targetEvent;if("x-tabbar"===this.parentNode.nodeName.toLowerCase())return this.parentNode.targetEvent;throw"tabbar-tab is missing event to fire"},set:function(t){this.xtag.targetEvent=t}}},methods:{}})}();