!function(){function t(t,e){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var e=/OS [1-4]_\d like Mac OS X/i.test(navigator.userAgent),n=/Android 2.\d.+AppleWebKit/.test(navigator.userAgent);if(/Android 2\.3.+AppleWebKit/.test(navigator.userAgent),n){var r=document.createElement("meta");r.name="viewport",r.content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;",document.head.appendChild(r)}window.addEventListener("keyup",function(t){27==t.keyCode&&xtag.query(document,"x-modal[esc-hide]").forEach(function(t){null===t.getAttribute("hidden")&&xtag.fireEvent(t,"modalhide")})}),xtag.addEvent(document,"tap",function(e){var n=e.target,r=xtag.query(document,"x-modal:not([cancel-click-hide])");r.forEach(function(e){var r=e.offsetParent||e.parentNode;t(n,e)||r!==document.body&&!t(n,r)||xtag.fireEvent(e,"modalhide")})}),(e||n)&&window.addEventListener("scroll",function(){var t=xtag.query(document,"body > x-modal");t.forEach(function(t){t.style.top=window.pageYOffset+.5*window.innerHeight+"px"})}),xtag.register("x-modal",{lifecycle:{created:function(){this.setAttribute("tabindex",0)},inserted:function(){(e||n)&&(this.style.top=window.pageYOffset+.5*window.innerHeight+"px")}},events:{modalhide:function(){this.hide()}},accessors:{hidden:{attribute:{"boolean":!0}},overlay:{attribute:{"boolean":!0}},escHide:{attribute:{"boolean":!0,name:"esc-hide"}},cancelClickHide:{attribute:{"boolean":!0,name:"cancel-click-hide"}}},methods:{toggle:function(){this.hasAttribute("hidden")?this.show():this.hide()},hide:function(){this.setAttribute("hidden","")},show:function(){this.removeAttribute("hidden")}}})}();